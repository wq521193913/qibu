<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.broker.dao.DbOrderReserverDao">
  <insert id="insertDbOrderReserver" parameterType="com.broker.domain.DbOrderReserver">INSERT INTO db_order_reserver(id,reserver_no,reserver_date,person_num,reserver_name,reserver_phone,remarks,status,reply,create_date,update_date,update_user) VALUES (#{id},#{reserver_no},#{reserver_date},#{person_num},#{reserver_name},#{reserver_phone},#{remarks},#{status},#{reply},#{create_date},#{update_date},#{update_user})
    <selectKey resultType="java.lang.Integer" keyProperty="uid" order="AFTER">SELECT LAST_INSERT_ID()</selectKey>
  </insert>
  <update id="updateDbOrderReserverById" parameterType="com.broker.domain.DbOrderReserver">UPDATE db_order_reserver
    <set>
      <if test="id!=null">id=#{id},</if>
      <if test="reserver_no!=null">reserver_no=#{reserver_no},</if>
      <if test="reserver_date!=null">reserver_date=#{reserver_date},</if>
      <if test="person_num!=null">person_num=#{person_num},</if>
      <if test="reserver_name!=null">reserver_name=#{reserver_name},</if>
      <if test="reserver_phone!=null">reserver_phone=#{reserver_phone},</if>
      <if test="remarks!=null">remarks=#{remarks},</if>
      <if test="status!=null">status=#{status},</if>
      <if test="reply!=null">reply=#{reply},</if>
      <if test="create_date!=null">create_date=#{create_date},</if>
      <if test="update_date!=null">update_date=#{update_date},</if>
      <if test="update_user!=null">update_user=#{update_user},</if>
    </set>where uid = #{uid}
  </update>
  <delete id="deleteDbOrderReserver" parameterType="java.lang.Integer">DELETE FROM db_order_reserver WHERE uid = #{uid}</delete>
  <select id="queryDbOrderReserverById" parameterType="java.lang.Integer" resultType="com.broker.domain.DbOrderReserver">SELECT * FROM db_order_reserver WHERE uid = #{uid}</select>
  <select id="queryDbOrderReserverList" parameterType="java.util.Map" resultType="com.broker.domain.DbOrderReserver">SELECT * FROM db_order_reserver
    <where>
      <if test="id!=null">AND id=#{id}</if>
      <if test="reserver_no!=null">AND reserver_no=#{reserver_no}</if>
      <if test="reserver_date!=null">AND reserver_date=#{reserver_date}</if>
      <if test="person_num!=null">AND person_num=#{person_num}</if>
      <if test="reserver_name!=null">AND reserver_name=#{reserver_name}</if>
      <if test="reserver_phone!=null">AND reserver_phone=#{reserver_phone}</if>
      <if test="remarks!=null">AND remarks=#{remarks}</if>
      <if test="status!=null">AND status=#{status}</if>
      <if test="reply!=null">AND reply=#{reply}</if>
      <if test="create_date!=null">AND create_date=#{create_date}</if>
      <if test="update_date!=null">AND update_date=#{update_date}</if>
      <if test="update_user!=null">AND update_user=#{update_user}</if>
    </where>
  </select>
</mapper>
