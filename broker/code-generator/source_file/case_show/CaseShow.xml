<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.broker.dao.CaseShowDao">
  <insert id="insertCaseShow" parameterType="com.broker.domain.CaseShow">INSERT INTO case_show(uid,case_title,case_img,case_desc,create_date,create_user,update_date,update_user) VALUES (#{uid},#{caseTitle},#{caseImg},#{caseDesc},#{createDate},#{createUser},#{updateDate},#{updateUser})
    <selectKey resultType="java.lang.Integer" keyProperty="uid" order="AFTER">SELECT LAST_INSERT_ID()</selectKey>
  </insert>
  <update id="updateCaseShowById" parameterType="com.broker.domain.CaseShow">UPDATE case_show
    <set>
      <if test="!=null">uid=#{},</if>
      <if test="caseTitle!=null">case_title=#{caseTitle},</if>
      <if test="caseImg!=null">case_img=#{caseImg},</if>
      <if test="caseDesc!=null">case_desc=#{caseDesc},</if>
      <if test="createDate!=null">create_date=#{createDate},</if>
      <if test="createUser!=null">create_user=#{createUser},</if>
      <if test="updateDate!=null">update_date=#{updateDate},</if>
      <if test="updateUser!=null">update_user=#{updateUser},</if>
    </set>where uid = #{uid}
  </update>
  <delete id="deleteCaseShow" parameterType="java.lang.Integer">DELETE FROM case_show WHERE uid = #{uid}</delete>
  <select id="queryCaseShowById" parameterType="java.lang.Integer" resultType="com.broker.domain.CaseShow">SELECT * FROM case_show WHERE uid = #{uid}</select>
  <select id="queryCaseShowList" parameterType="java.util.Map" resultType="com.broker.domain.CaseShow">SELECT * FROM case_show
    <where>
      <if test="!=null">AND uid=#{}</if>
      <if test="caseTitle!=null">AND case_title=#{caseTitle}</if>
      <if test="caseImg!=null">AND case_img=#{caseImg}</if>
      <if test="caseDesc!=null">AND case_desc=#{caseDesc}</if>
      <if test="createDate!=null">AND create_date=#{createDate}</if>
      <if test="createUser!=null">AND create_user=#{createUser}</if>
      <if test="updateDate!=null">AND update_date=#{updateDate}</if>
      <if test="updateUser!=null">AND update_user=#{updateUser}</if>
    </where>
  </select>
</mapper>
