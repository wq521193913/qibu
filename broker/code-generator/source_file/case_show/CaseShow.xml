<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.broker.dao.CaseShowDao">
  <insert id="insertCaseShow" parameterType="com.broker.domain.CaseShow">INSERT INTO case_show(uid,case_title,case_img,case_desc,create_date,create_user,update_date,update_user) VALUES (#{uid},#{case_title},#{case_img},#{case_desc},#{create_date},#{create_user},#{update_date},#{update_user})
    <selectKey resultType="java.lang.Integer" keyProperty="uid" order="AFTER">SELECT LAST_INSERT_ID()</selectKey>
  </insert>
  <update id="updateCaseShowById" parameterType="com.broker.domain.CaseShow">UPDATE case_show
    <set>
      <if test="case_title!=null">case_title=#{case_title},</if>
      <if test="case_img!=null">case_img=#{case_img},</if>
      <if test="case_desc!=null">case_desc=#{case_desc},</if>
      <if test="create_date!=null">create_date=#{create_date},</if>
      <if test="create_user!=null">create_user=#{create_user},</if>
      <if test="update_date!=null">update_date=#{update_date},</if>
      <if test="update_user!=null">update_user=#{update_user},</if>
    </set>where uid = #{uid}
  </update>
  <delete id="deleteCaseShow" parameterType="java.lang.Integer">DELETE FROM case_show WHERE uid = #{uid}</delete>
  <select id="queryCaseShowById" parameterType="java.lang.Integer" resultType="com.broker.domain.CaseShow">SELECT * FROM case_show WHERE uid = #{uid}</select>
  <select id="queryCaseShowList" parameterType="java.util.Map" resultType="com.broker.domain.CaseShow">SELECT * FROM case_show
    <where>
      <if test="uid!=null">AND uid=#{uid}</if>
      <if test="case_title!=null">AND case_title=#{case_title}</if>
      <if test="case_img!=null">AND case_img=#{case_img}</if>
      <if test="case_desc!=null">AND case_desc=#{case_desc}</if>
      <if test="create_date!=null">AND create_date=#{create_date}</if>
      <if test="create_user!=null">AND create_user=#{create_user}</if>
      <if test="update_date!=null">AND update_date=#{update_date}</if>
      <if test="update_user!=null">AND update_user=#{update_user}</if>
    </where>
  </select>
</mapper>
