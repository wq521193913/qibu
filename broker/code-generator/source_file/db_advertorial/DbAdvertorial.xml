<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.broker.dao.DbAdvertorialDao">
  <insert id="insertDbAdvertorial" parameterType="com.broker.domain.DbAdvertorial">INSERT INTO db_advertorial(id,title,img_url,content,status) VALUES (#{id},#{title},#{img_url},#{content},#{status})
    <selectKey resultType="java.lang.Integer" keyProperty="uid" order="AFTER">SELECT LAST_INSERT_ID()</selectKey>
  </insert>
  <update id="updateDbAdvertorialById" parameterType="com.broker.domain.DbAdvertorial">UPDATE db_advertorial
    <set>
      <if test="id!=null">id=#{id},</if>
      <if test="title!=null">title=#{title},</if>
      <if test="img_url!=null">img_url=#{img_url},</if>
      <if test="content!=null">content=#{content},</if>
      <if test="status!=null">status=#{status},</if>
    </set>where uid = #{uid}
  </update>
  <delete id="deleteDbAdvertorial" parameterType="java.lang.Integer">DELETE FROM db_advertorial WHERE uid = #{uid}</delete>
  <select id="queryDbAdvertorialById" parameterType="java.lang.Integer" resultType="com.broker.domain.DbAdvertorial">SELECT * FROM db_advertorial WHERE uid = #{uid}</select>
  <select id="queryDbAdvertorialList" parameterType="java.util.Map" resultType="com.broker.domain.DbAdvertorial">SELECT * FROM db_advertorial
    <where>
      <if test="id!=null">AND id=#{id}</if>
      <if test="title!=null">AND title=#{title}</if>
      <if test="img_url!=null">AND img_url=#{img_url}</if>
      <if test="content!=null">AND content=#{content}</if>
      <if test="status!=null">AND status=#{status}</if>
    </where>
  </select>
</mapper>
